"use strict";(self["webpackChunkgo_home"]=self["webpackChunkgo_home"]||[]).push([[394],{7678:function(t,e,r){r.d(e,{Z:function(){return u}});var i=r(3396),n=r(7139);const a={class:"star-rating"};function s(t,e,r,s,l,o){return(0,i.wg)(),(0,i.iD)("div",a,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.limit,(t=>((0,i.wg)(),(0,i.iD)("span",{key:t,class:"star star--outlined"})))),128)),(0,i._)("div",{class:"star-rating__colored",style:(0,n.j5)(o.ratingWidthStyle)},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.limit,(t=>((0,i.wg)(),(0,i.iD)("span",{key:t,class:"star star--colored"})))),128))],4)])}var l={name:"StarRating",props:{rating:{type:Number,default:0},limit:{type:Number,default:5}},computed:{ratingWidth(){return this.rating/this.limit*100},ratingWidthStyle(){return`width: ${this.ratingWidth}%;`}}},o=r(89);const c=(0,o.Z)(l,[["render",s],["__scopeId","data-v-31e33bf0"]]);var u=c},5073:function(t,e,r){r.d(e,{Z:function(){return c}});var i=r(3396);const n={class:"page-container"};function a(t,e,r,a,s,l){return(0,i.wg)(),(0,i.iD)("div",n,[(0,i.WI)(t.$slots,"default",{},void 0,!0)])}var s={name:"PageContainer"},l=r(89);const o=(0,l.Z)(s,[["render",a],["__scopeId","data-v-4b32f348"]]);var c=o},4399:function(t,e,r){r.d(e,{Z:function(){return u}});var i=r(3396),n=r(7139);const a=["type"];function s(t,e,r,s,l,o){return(0,i.wg)(),(0,i.iD)("button",{type:r.type,class:(0,n.C_)({"btn-primary":!0,"btn-primary--outlined":r.outlined})},[(0,i.WI)(t.$slots,"default",{},void 0,!0)],10,a)}var l={name:"PrimaryBtn",props:{type:{type:String,default:"button"},outlined:{type:Boolean,default:!1}}},o=r(89);const c=(0,o.Z)(l,[["render",s],["__scopeId","data-v-3825de5c"]]);var u=c},3394:function(t,e,r){r.r(e),r.d(e,{default:function(){return X}});var i=r(3396);const n={key:0};function a(t,e,r,a,s,l){const o=(0,i.up)("radar-spinner"),c=(0,i.up)("FiltersForm"),u=(0,i.up)("ApartmentsList"),d=(0,i.up)("MainContainer"),m=(0,i.up)("PageContainer");return(0,i.wg)(),(0,i.j4)(m,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[s.loading?((0,i.wg)(),(0,i.j4)(o,{key:0,class:"loader-radar","animation-duration":2e3,size:60,color:"#FF662D"})):(0,i.kq)("",!0),s.loading?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Wm)(c,{onSubmit:l.filter},null,8,["onSubmit"]),l.filteredApartments.length?((0,i.wg)(),(0,i.j4)(u,{key:1,items:l.filteredApartments},null,8,["items"])):((0,i.wg)(),(0,i.iD)("p",n,"Нічого не знайдено"))],64))])),_:1})])),_:1})}var s=r(1103),l=r(5073),o=r(5529),c=r(9242);function u(t,e,r,n,a,s){const l=(0,i.up)("CustomSelect"),o=(0,i.up)("CustomInput"),u=(0,i.up)("PrimaryBtn");return(0,i.wg)(),(0,i.iD)("form",{class:"filters-form",onSubmit:e[2]||(e[2]=(0,c.iM)(((...t)=>s.submitHandler&&s.submitHandler(...t)),["prevent"]))},[(0,i.Wm)(l,{items:a.cities,modelValue:a.city,"onUpdate:modelValue":e[0]||(e[0]=t=>a.city=t),class:"filters-form__component"},null,8,["items","modelValue"]),(0,i.Wm)(o,{modelValue:a.price,"onUpdate:modelValue":e[1]||(e[1]=t=>a.price=t),class:"filters-form__component"},null,8,["modelValue"]),(0,i.Wm)(u,{type:"submit"},{default:(0,i.w5)((()=>[(0,i.Uk)("SEARCH")])),_:1})],32)}var d=r(8290),m=r(7139);const p={class:"custom-select"},f=["value","selected"];function g(t,e,r,n,a,s){return(0,i.wg)(),(0,i.iD)("select",p,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.formattedItems,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t.value,value:t.value,selected:t.selected},(0,m.zw)(t.label),9,f)))),128))])}var y={name:"CustomSelect",props:{items:{type:Array,default:()=>{}}},computed:{formattedItems(){const t=this.items.map((t=>"object"===typeof t?t:{value:t,label:t})),e=[{value:"",label:"City",selected:!0},...t];return e}}},h=r(89);const v=(0,h.Z)(y,[["render",g],["__scopeId","data-v-c6992cda"]]);var _=v;const b=["value"];function w(t,e,r,n,a,s){return(0,i.wg)(),(0,i.iD)("input",{type:"number",value:r.modelValue,onInput:e[0]||(e[0]=e=>t.$emit("update:modelValue",e.target.value)),placeholder:"Price, from",class:"custom-input"},null,40,b)}var S={name:"CustomInput",props:["modelValue"],emits:["update:modelValue"]};const D=(0,h.Z)(S,[["render",w],["__scopeId","data-v-0e4fc16e"]]);var I=D,C=r(4399),W={name:"FiltersForm",components:{CustomSelect:_,CustomInput:I,PrimaryBtn:C.Z},data(){return{cities:[],price:"",city:""}},async created(){try{const t=await(0,d.MC)();this.cities=t}catch(t){console.error(t)}},methods:{submitHandler(t){this.$emit("submit",{city:t.target.elements[0].value,price:t.target.elements[1].value})}}};const k=(0,h.Z)(W,[["render",u],["__scopeId","data-v-26ec2b5f"]]);var Z=k;const A={class:"apartments-list"};function j(t,e,r,n,a,s){const l=(0,i.up)("ApartmentItem");return(0,i.wg)(),(0,i.iD)("div",A,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.items,(({_id:t,descr:e,price:r,rating:n})=>((0,i.wg)(),(0,i.j4)(l,{key:t,id:t,descr:e,price:r,rating:n},null,8,["id","descr","price","rating"])))),128))])}var H=r(5732);const $=t=>((0,i.dD)("data-v-0bef50dd"),t=t(),(0,i.Cn)(),t),N={class:"apartment-item"},P=$((()=>(0,i._)("img",{src:H,alt:"",class:"apartment-item__img"},null,-1))),V={class:"apartment-item__inner"},z={class:"apartment-item__descr"},B={class:"apartment-item__rating"},F={class:"apartment-item__price"};function x(t,e,r,n,a,s){const l=(0,i.up)("StarRating"),o=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",N,[P,(0,i._)("div",V,[(0,i._)("p",z,(0,m.zw)(r.descr),1),(0,i._)("div",B,[(0,i.Wm)(l,{rating:r.rating},null,8,["rating"])]),(0,i.Wm)(o,{to:{name:"apartments",params:{id:r.id}},class:"apartment-item__link"},null,8,["to"]),(0,i._)("p",F,"UAH "+(0,m.zw)(r.price)+" per night",1)])])}var R=r(7678),Y={name:"ApartmentItem",components:{StarRating:R.Z},props:{id:{type:String,required:!0},descr:{type:String,default:""},price:{type:Number,required:!0},rating:{type:Number,required:0}}};const q=(0,h.Z)(Y,[["render",x],["__scopeId","data-v-0bef50dd"]]);var K=q,L={name:"ApartmentsList",components:{ApartmentItem:K},props:{items:{type:Array,default:()=>[]}}};const M=(0,h.Z)(L,[["render",j],["__scopeId","data-v-8e12b04e"]]);var U=M,E={name:"HomePage",components:{PageContainer:l.Z,MainContainer:o.Z,FiltersForm:Z,ApartmentsList:U,RadarSpinner:s.X},data(){return{loading:!1,apartments:[],filters:{city:"",price:0}}},async created(){try{this.loading=!0;const t=await(0,d.wc)();this.apartments=t,this.loading=!1}catch(t){console.log(t),this.$notify({type:"error",title:"Error",text:t.message})}},computed:{filteredApartments(){return this.filterByName(this.filterByPrice(this.apartments))}},methods:{filter({city:t,price:e}){t&&e>=0&&(this.filters.city=t,this.filters.price=e)},filterByName(t){return this.filters.city?t.filter((t=>t.location.city===this.filters.city)):t},filterByPrice(t){return this.filters.price?t.filter((t=>t.price>=this.filters.price)):t}}};const O=(0,h.Z)(E,[["render",a],["__scopeId","data-v-fa2b4152"]]);var X=O},5732:function(t,e,r){t.exports=r.p+"img/default-apartment-img.265c6257.jpg"},1103:function(t,e,r){r.d(e,{X:function(){return o}});r(7658);var i=r(3396),n=r(7139),a=(t,e)=>{const r=t.__vccOpts||t;for(const[i,n]of e)r[i]=n;return r};const s={name:"RadarSpinner",props:{animationDuration:{type:Number,default:2e3},size:{type:Number,default:110},color:{type:String,default:"#fff"}},data(){return{circlesNum:4}},computed:{borderWidth(){return 5*this.size/110},spinnerStyle(){return{height:`${this.size}px`,width:`${this.size}px`}},circleStyle(){return{animationDuration:`${this.animationDuration}ms`}},circleInnerContainerStyle(){return{borderWidth:`${this.borderWidth}px`}},circleInnerStyle(){return{borderLeftColor:this.color,borderRightColor:this.color,borderWidth:`${this.borderWidth}px`}},circlesStyles(){const t=[],e=.15*this.animationDuration;for(let r=0;r<this.circlesNum;r++)t.push(Object.assign({padding:2*this.borderWidth*r+"px",animationDelay:`${r===this.circlesNum-1?0:e}ms`},this.circleStyle));return t}}};function l(t,e,r,a,s,l){return(0,i.wg)(),(0,i.iD)("div",{class:"radar-spinner",style:(0,n.j5)(l.spinnerStyle)},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.circlesStyles,((t,e)=>((0,i.wg)(),(0,i.iD)("div",{key:e,class:"circle",style:(0,n.j5)(t)},[(0,i._)("div",{class:"circle-inner-container",style:(0,n.j5)(l.circleInnerContainerStyle)},[(0,i._)("div",{class:"circle-inner",style:(0,n.j5)(l.circleInnerStyle)},null,4)],4)],4)))),128))],4)}var o=a(s,[["render",l]])}}]);
//# sourceMappingURL=394.300cb5b2.js.map